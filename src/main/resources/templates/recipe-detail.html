<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recipe Details - Recipe Buddy</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <link th:href="@{/css/one.css}" rel="stylesheet">
</head>
<body>

<div class="dashboard-container">
    <!-- Sidebar Navigation -->
    <div th:replace="~{fragments/navbar::navbar}"></div>

    <!-- Main Content Area -->
    <div class="main-content">
        <!-- Top Navigation Bar -->
        <nav class="top-navbar">
            <div class="container-fluid">
                <div class="d-flex align-items-center">
                </div>
                <div class="d-flex align-items-center">
                    <div th:replace="~{fragments/profile-menu :: profile-menu}"></div>
                </div>
            </div>
        </nav>

        <!-- Recipe Detail Content -->
        <div class="dashboard-content">
            <div class="container-fluid py-4">
                <div class="recipe-detail-card">
                    <!-- Recipe Header -->
                    <div class="recipe-header">
                        <h1 th:text="${recipe.title}">Recipe Title</h1>
                        <div class="recipe-meta">
                            <span>
                                <i class="bi bi-person-circle"></i>
                                <span th:text="${recipe.author.username}">Author</span>
                            </span>
                            <span>
                                <i class="bi bi-calendar-check"></i>
                                <span th:text="${#temporals.format(recipe.createdOn, 'MMM dd, yyyy')}">April 28, 2025</span>
                            </span>
                        </div>
                    </div>

                    <!-- Recipe Body -->
                    <div class="row mt-4">
                        <!-- Recipe Image and Details -->
                        <div class="col-lg-5">
                            <div class="recipe-image-container mb-3">
                                <img th:src="${recipe.imageUrl ?: 'https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=800&h=600&fit=crop'}" class="img-fluid rounded" th:alt="${recipe.title}">
                            </div>

                            <!-- Recipe Quick Info -->
                            <div class="recipe-quick-info">
                                <div class="recipe-info-card">
                                    <div class="info-icon">
                                        <i class="bi bi-clock"></i>
                                    </div>
                                    <div class="info-text">
                                        <span class="info-title">Total Time</span>
                                        <span class="info-value" th:text="${recipe.prepTimeMinutes + recipe.cookTimeMinutes} + ' min'">45 min</span>
                                    </div>
                                </div>

                                <div class="recipe-info-card">
                                    <div class="info-icon">
                                        <i class="bi bi-alarm"></i>
                                    </div>
                                    <div class="info-text">
                                        <span class="info-title">Prep Time</span>
                                        <span class="info-value" th:text="${recipe.prepTimeMinutes} + ' min'">15 min</span>
                                    </div>
                                </div>

                                <div class="recipe-info-card">
                                    <div class="info-icon">
                                        <i class="bi bi-fire"></i>
                                    </div>
                                    <div class="info-text">
                                        <span class="info-title">Cook Time</span>
                                        <span class="info-value" th:text="${recipe.cookTimeMinutes} + ' min'">30 min</span>
                                    </div>
                                </div>

                                <div class="recipe-info-card">
                                    <div class="info-icon">
                                        <i class="bi bi-people"></i>
                                    </div>
                                    <div class="info-text">
                                        <span class="info-title">Servings</span>
                                        <span class="info-value" th:text="${recipe.servingSize}">4</span>
                                    </div>
                                </div>

                                <div class="recipe-info-card">
                                    <div class="info-icon">
                                        <i class="bi bi-bar-chart"></i>
                                    </div>
                                    <div class="info-text">
                                        <span class="info-title">Difficulty</span>
                                        <span class="info-value difficulty-badge"
                                              th:text="${recipe.difficultyLevel}"
                                              th:classappend="${#strings.toLowerCase(recipe.difficultyLevel)}">Medium</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Categories -->
                            <div class="mt-4">
                                <h5>Categories</h5>
                                <div class="recipe-tags">
                                    <span class="tag category-tag"
                                          th:each="category : ${recipe.categories}"
                                          th:text="${#strings.capitalize(category.name)}"
                                          title="Category">Category</span>
                                </div>
                            </div>
                        </div>

                        <!-- Recipe Content -->
                        <div class="col-lg-7">
                            <!-- Recipe Description -->
                            <div class="recipe-section">
                                <h3>Description</h3>
                                <p th:text="${recipe.description}">Recipe description...</p>
                            </div>

                            <!-- Recipe Ingredients -->
                            <div class="recipe-section">
                                <h3>Ingredients</h3>
                                <div class="ingredients-list">
                                    <p th:text="${recipe.ingredients}">Ingredients list</p>
                                </div>
                            </div>

                            <!-- Recipe Instructions -->
                            <div class="recipe-section">
                                <h3>Instructions</h3>
                                <div class="instructions-list">
                                    <p th:text="${recipe.instructions}">Instructions</p>
                                </div>
                            </div>

                            <!-- Nutrition Facts -->
                            <div class="recipe-section" th:if="${recipe.calories != null}">
                                <h3>Nutrition Facts</h3>
                                <div class="nutrition-facts">
                                    <div class="nutrition-item" th:if="${recipe.calories != null}">
                                        <span class="nutrition-label">Calories:</span>
                                        <span class="nutrition-value" th:text="${recipe.calories} + ' kcal'">350 kcal</span>
                                    </div>
                                    <div class="nutrition-item" th:if="${recipe.protein != null}">
                                        <span class="nutrition-label">Protein:</span>
                                        <span class="nutrition-value" th:text="${recipe.protein} + 'g'">25g</span>
                                    </div>
                                    <div class="nutrition-item" th:if="${recipe.carbs != null}">
                                        <span class="nutrition-label">Carbs:</span>
                                        <span class="nutrition-value" th:text="${recipe.carbs} + 'g'">42g</span>
                                    </div>
                                    <div class="nutrition-item" th:if="${recipe.fat != null}">
                                        <span class="nutrition-label">Fat:</span>
                                        <span class="nutrition-value" th:text="${recipe.fat} + 'g'">12g</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script th:src="@{/js/one.js}"></script>
</body>
</html>